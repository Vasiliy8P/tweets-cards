{"version":3,"file":"static/js/114.206b6c23.chunk.js","mappings":"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","sources":["services/api.js","components/TweetsCard/TweetsCard.jsx","components/Loader/Loader.jsx","pages/Tweets/Tweets.jsx"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://640d0e31b07afc3b0da6e662.mockapi.io\";\n\nexport const getTweetsApi = async (page) => {\n    const response = await axios.get(`/tweets?page=${page}&limit=3`);\n    return response.data;\n};\n\nexport const getIncrementFollowersApi = async (tweetId, tweetFollowers) => {\n    const response = await axios.put(`/tweets/${tweetId}`, { followers: tweetFollowers + 1 });\n    return response.data;\n};\n\nexport const getDecrementFollowersApi = async (tweetId, tweetFollowers) => {\n    const response = await axios.put(`/tweets/${tweetId}`, { followers: tweetFollowers - 1 });\n    return response.data;\n};","import './TweetCard.css';\n\nconst TweetCard = ({\n    tweet: { tweets, followers, id, avatar },\n    followingTweetsId,\n    onClickFollowing\n}) => {\n    return (\n        <div className=\"TweetCard\">\n            {/* <div className=\"TweetCard__container\">\n                <div className=\"TweetCard-info\">      */}\n                    <img className=\"TweetCard__picture\" src=\"../img/picture2.png\" alt=\"background-img\" />\n                    <img className=\"TweetCard__logo\" src=\"../img/LogoJPG.jpg\" alt=\"logo\" />\n                    <img className=\"TweetCard__rectangle\" src=\"../img/rectangle.png\" alt=\"rectangle\" />\n                    <img className=\"TweetCard__user-photo\" src={avatar} alt=\"user\" />\n                    <img className=\"TweetCard__ellipse\" src=\"../img/ellipse.png\" alt=\"ellipse\" />\n                    <p className=\"TweetCard__tweets-counter\"> {tweets} tweets</p>\n                    <p className=\"TweetCard__followers-counter\"> {followers} followers</p>\n                    <button\n                        className={\n                            followingTweetsId.includes(id)\n                                ? \"TweetCard__btn-following\"\n                                : \"TweetCard__btn-follow\"}\n                        type=\"button\"\n                        onClick={() => onClickFollowing(id, followers)}\n                    >\n                        {followingTweetsId.includes(id) ? \"following\" : \"Follow\"}\n                    </button>\n                {/* </div>\n            </div> */}\n        </div>\n    )\n};\nexport default TweetCard;\n\n","import { ThreeDots } from 'react-loader-spinner';\n\nconst Loader = () => {\n    return (\n        <ThreeDots\n            height=\"80\"\n            width=\"80\"\n            radius=\"9\"\n            color=\"#4B2A99\"\n            ariaLabel=\"three-dots-loading\"\n            wrapperStyle={{display: \"flex\", justifyContent: \"center\"}}\n            visible={true}\n        />\n    )\n}\n\nexport default Loader;","import { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport { getDecrementFollowersApi, getIncrementFollowersApi, getTweetsApi } from 'services/api';\nimport TweetCard from 'components/TweetsCard/TweetsCard';\nimport Loader from 'components/Loader/Loader';\nimport './Tweets.css';\n\nconst initialFollowingTweetsId = () => {\n    const saveFollowingTweetsId = localStorage.getItem(\"followingTweets\");\n    if (saveFollowingTweetsId !== null) {\n        const parsedFollowingTweetsId = JSON.parse(saveFollowingTweetsId);\n        return parsedFollowingTweetsId\n    }\n    return [];\n}\n\nconst Tweets = () => {\n    const [tweets, setTweets] = useState([]);\n    const [page, setPage] = useState(1);\n    const [followingTweetsId, setFollowingTweetsId] = useState(initialFollowingTweetsId());\n    const [isLoading, setIsLoading] = useState(null)\n    const location = useLocation();\n    const backLinkHref = location.state?.from ?? \"/\";\n\n    useEffect(() => {\n        setIsLoading(true);\n        getTweetsApi(page)\n            .then(fetchTweets => {\n                setTweets(prevTweets => [...prevTweets, ...fetchTweets])\n                setIsLoading(false);\n            })\n            .catch(error => console.log(error.message));\n    }, [page]);\n\n    useEffect(() => {\n        localStorage.setItem(\"followingTweets\", JSON.stringify(followingTweetsId));\n    }, [followingTweetsId]);\n\n    const incrementFollowers = (tweetId, tweetFollowers) => {\n        getIncrementFollowersApi(tweetId, tweetFollowers)\n            .then(fetchTweet => {\n                setTweets(prevTweets => prevTweets.map(prevTweet => {\n                    if (prevTweet.id === fetchTweet.id) {\n                        prevTweet.followers = fetchTweet.followers;\n                    };\n                    return prevTweet\n                }))\n            })\n            .catch(error => console.log(error.message));\n    };\n\n    const decrementFollowers = (tweetId, tweetFollowers) => {\n        getDecrementFollowersApi(tweetId, tweetFollowers)\n            .then(fetchTweet => {\n                setTweets(prevTweets => prevTweets.map(prevTweet => {\n                    if (prevTweet.id === fetchTweet.id) {\n                        prevTweet.followers = fetchTweet.followers;\n                    };\n                    return prevTweet;\n                }))\n            })\n            .catch(error => console.log(error.message));\n    };\n\n    const hendleClickFollowing = (tweetId, followers) => {\n        if (!followingTweetsId.includes(tweetId)) {\n            setFollowingTweetsId(prevState => [...prevState, tweetId]);\n            incrementFollowers(tweetId, followers);\n            return\n        } else {\n            setFollowingTweetsId(prevState => [...prevState.filter(prevState => prevState !== tweetId)]);\n            decrementFollowers(tweetId, followers);\n        }\n    }\n\n    const hendleClickBtnLoadMore = () => {\n        setPage(prevState => (prevState + 1));\n    };\n\n    return (\n        <>  <Link to={backLinkHref} className='Tweets-list__btn-back-link'>\n            <button className='Tweets-list__btn-back' type='button'>\n                Back\n            </button>\n        </Link>\n            <ul className='Tweets-list'>\n                {(tweets.map(tweet => (\n                    <li key={nanoid()} className='Tweets-list__item'>\n                        <TweetCard\n                            tweet={tweet}\n                            onClickFollowing={hendleClickFollowing}\n                            followingTweetsId={followingTweetsId}\n                        />\n                    </li>\n                )))}\n            </ul>\n            {isLoading && <Loader />}\n            {(tweets.length > 0) && !isLoading &&\n                <button\n                    className='Tweets-list__btn-LoadMore'\n                    type='button'\n                    onClick={hendleClickBtnLoadMore}\n                >\n                    Load more\n                </button>\n            }\n        </>\n    )\n};\n\nexport default Tweets;"],"names":["axios","getTweetsApi","page","response","data","getIncrementFollowersApi","tweetId","tweetFollowers","followers","getDecrementFollowersApi","tweet","tweets","id","avatar","followingTweetsId","onClickFollowing","className","src","alt","includes","type","onClick","height","width","radius","color","ariaLabel","wrapperStyle","display","justifyContent","visible","useState","setTweets","setPage","saveFollowingTweetsId","localStorage","getItem","JSON","parse","initialFollowingTweetsId","setFollowingTweetsId","isLoading","setIsLoading","backLinkHref","useLocation","state","from","useEffect","then","fetchTweets","prevTweets","catch","error","console","log","message","setItem","stringify","hendleClickFollowing","prevState","fetchTweet","map","prevTweet","incrementFollowers","filter","decrementFollowers","to","nanoid","length"],"sourceRoot":""}