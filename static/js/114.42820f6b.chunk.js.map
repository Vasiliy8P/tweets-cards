{"version":3,"file":"static/js/114.42820f6b.chunk.js","mappings":"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","sources":["services/api.js","components/TweetsCard/TweetsCard.jsx","components/Loader/Loader.jsx","pages/Tweets/Tweets.jsx"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://640d0e31b07afc3b0da6e662.mockapi.io\";\n\nexport const getTweetsApi = async (page) => {\n    const response = await axios.get(`/tweets?page=${page}&limit=3`);\n    return response.data;\n};\n\nexport const getIncrementFollowersApi = async (tweetId, tweetFollowers) => {\n    const response = await axios.put(`/tweets/${tweetId}`, { followers: tweetFollowers + 1 });\n    return response.data;\n};\n\nexport const getDecrementFollowersApi = async (tweetId, tweetFollowers) => {\n    const response = await axios.put(`/tweets/${tweetId}`, { followers: tweetFollowers - 1 });\n    return response.data;\n};","// import { useEffect, useState } from 'react';\nimport './TweetCard.css';\n\nconst TweetCard = ({\n    tweet: { user, tweets, followers, id },\n    followingTweetsId,\n    onClickFollowing\n}) => {\n    return (\n        <div className=\"TweetCard\">\n            <div className=\"TweetCard__container\">\n                <div className=\"TweetCard__header\">\n                    <img className=\"TweetCard__logo\" src=\"logo\" alt=\"logo\" />\n                </div>\n                <div className=\"TweetCard__user\">\n                    <p>{user}</p>\n                    <img className=\"TweetCard__user-photo\" src=\"user\" alt=\"user\" />\n                </div>\n                <div className=\"TweetCard__tweets-info\">\n                    <p className=\"TweetCard__tweets-counter\"> {tweets} TWEETS</p>\n                    <p className=\"TweetCard__followers-counter\"> {followers} FOLLOWERS</p>\n                    <button\n                        className={\n                            followingTweetsId.includes(id)\n                                ? \"TweetCard__btn-following\"\n                                : \"TweetCard__btn-follow\"}\n                        type=\"button\"\n                        onClick={() => onClickFollowing(id, followers)}\n                    >\n                        {followingTweetsId.includes(id) ? \"following\" : \"Follow\"}\n                    </button>\n                </div>\n            </div>\n        </div>\n    )\n};\nexport default TweetCard;\n\n","import { ThreeDots } from 'react-loader-spinner';\n\nconst Loader = () => {\n    return (\n        <ThreeDots\n            height=\"80\"\n            width=\"80\"\n            radius=\"9\"\n            color=\"#4B2A99\"\n            ariaLabel=\"three-dots-loading\"\n            wrapperStyle={{marginLeft: \"auto\", marginRight: \"auto\"}}\n            wrapperClassName=\"\"\n            visible={true}\n        />\n    )\n}\n\nexport default Loader;","import { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport { getDecrementFollowersApi, getIncrementFollowersApi, getTweetsApi } from 'services/api';\nimport TweetCard from 'components/TweetsCard/TweetsCard';\nimport Loader from 'components/Loader/Loader';\nimport './Tweets.css';\n\nconst initialFollowingTweetsId = () => {\n    const saveFollowingTweetsId = localStorage.getItem(\"followingTweets\");\n    if (saveFollowingTweetsId !== null) {\n        const parsedFollowingTweetsId = JSON.parse(saveFollowingTweetsId);\n        return parsedFollowingTweetsId\n    }\n    return [];\n}\n\nconst Tweets = () => {\n    const [tweets, setTweets] = useState([]);\n    const [page, setPage] = useState(1);\n    const [followingTweetsId, setFollowingTweetsId] = useState(initialFollowingTweetsId());\n    const [isLoading, setIsLoading] = useState(null)\n    const location = useLocation();\n    const backLinkHref = location.state?.from ?? \"/\";\n\n    useEffect(() => {\n        setIsLoading(true);\n        getTweetsApi(page)\n            .then(fetchTweets => {\n                setTweets(prevTweets => [...prevTweets, ...fetchTweets])\n                setIsLoading(false);\n            })\n            .catch(error => console.log(error.message));\n    }, [page]);\n\n    useEffect(() => {\n        localStorage.setItem(\"followingTweets\", JSON.stringify(followingTweetsId));\n    });\n\n    const incrementFollowers = (tweetId, tweetFollowers) => {\n        getIncrementFollowersApi(tweetId, tweetFollowers)\n            .then(fetchTweet => {\n                setTweets(prevTweets => prevTweets.map(prevTweet => {\n                    if (prevTweet.id === fetchTweet.id) {\n                        prevTweet.followers = fetchTweet.followers;\n                    };\n                    return prevTweet\n                }))\n            })\n            .catch(error => console.log(error.message));\n    };\n\n    const decrementFollowers = (tweetId, tweetFollowers) => {\n        getDecrementFollowersApi(tweetId, tweetFollowers)\n            .then(fetchTweet => {\n                setTweets(prevTweets => prevTweets.map(prevTweet => {\n                    if (prevTweet.id === fetchTweet.id) {\n                        prevTweet.followers = fetchTweet.followers;\n                    };\n                    return prevTweet;\n                }))\n            })\n            .catch(error => console.log(error.message));\n    };\n\n    const hendleClickFollowing = (tweetId, followers) => {\n        if (!followingTweetsId.includes(tweetId)) {\n            setFollowingTweetsId(prevState => [...prevState, tweetId]);\n            incrementFollowers(tweetId, followers);\n            return\n        } else {\n            setFollowingTweetsId(prevState => [...prevState.filter(prevState => prevState !== tweetId)]);\n            decrementFollowers(tweetId, followers);\n        }\n    }\n\n    const hendleClickBtnLoadMore = () => {\n        setPage(prevState => (prevState + 1));\n    };\n\n    return (\n        <>  <Link to={backLinkHref} className='Tweets-list__btn-back-link'>\n                <button className='Tweets-list__btn-back' type='button'>\n                    Back\n                </button>\n            </Link>              \n            <ul className='Tweets-list'>\n                {isLoading\n                    ? <Loader />\n                    : (tweets.map(tweet => (\n                        <li key={nanoid()} className='Tweets-list__item'>\n                            <TweetCard\n                                tweet={tweet}\n                                onClickFollowing={hendleClickFollowing}\n                                followingTweetsId={followingTweetsId}\n                            />\n                        </li>\n                    )))\n                }\n            </ul>\n            {(tweets.length > 0) && !isLoading &&\n                <button\n                    className='Tweets-list__btn-LoadMore'\n                    type='button'\n                    onClick={hendleClickBtnLoadMore}\n                >\n                    Load more\n                </button>\n            }\n        </>\n    )\n};\n\nexport default Tweets;"],"names":["axios","getTweetsApi","page","response","data","getIncrementFollowersApi","tweetId","tweetFollowers","followers","getDecrementFollowersApi","tweet","user","tweets","id","followingTweetsId","onClickFollowing","className","src","alt","includes","type","onClick","height","width","radius","color","ariaLabel","wrapperStyle","marginLeft","marginRight","wrapperClassName","visible","useState","setTweets","setPage","saveFollowingTweetsId","localStorage","getItem","JSON","parse","initialFollowingTweetsId","setFollowingTweetsId","isLoading","setIsLoading","backLinkHref","useLocation","state","from","useEffect","then","fetchTweets","prevTweets","catch","error","console","log","message","setItem","stringify","hendleClickFollowing","prevState","fetchTweet","map","prevTweet","incrementFollowers","filter","decrementFollowers","to","nanoid","length"],"sourceRoot":""}