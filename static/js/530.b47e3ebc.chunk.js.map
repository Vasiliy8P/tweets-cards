{"version":3,"file":"static/js/530.b47e3ebc.chunk.js","mappings":"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","sources":["services/api.js","components/TweetsCard/TweetsCard.jsx","components/Loader/Loader.jsx","pages/Tweets/Tweets.jsx"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://640d0e31b07afc3b0da6e662.mockapi.io\";\n\nexport const getTweetsApi = async (page) => {\n    const response = await axios.get(`/tweets?page=${page}&limit=3`);\n    return response.data;\n};\n\nexport const getIncrementFollowersApi = async (tweetId, tweetFollowers) => {\n    const response = await axios.put(`/tweets/${tweetId}`, { followers: tweetFollowers + 1 });\n    return response.data;\n};\n\nexport const getDecrementFollowersApi = async (tweetId, tweetFollowers) => {\n    const response = await axios.put(`/tweets/${tweetId}`, { followers: tweetFollowers - 1 });\n    return response.data;\n};","import pictureImg from '../img/picture.png';\nimport logoImg from '../img/Logo.png';\nimport rectangleImg from '../img/rectangle.png';\nimport ellipseImg from '../img/ellipse.png';\nimport './TweetsCard.css';\n\nconst TweetsCard = ({\n    tweet: { tweets, followers, id, avatar },\n    followingTweetsId,\n    onClickFollowing\n}) => {\n    return (\n        <div className=\"TweetCard\">\n            <img className=\"TweetCard__picture\" src={pictureImg} alt=\"background-img\" />\n            <img className=\"TweetCard__logo\" src={logoImg} alt=\"logo\" />\n            <img className=\"TweetCard__rectangle\" src={rectangleImg} alt=\"rectangle\" />\n            <img className=\"TweetCard__user-photo\" src={avatar} alt=\"user\" />\n            <img className=\"TweetCard__ellipse\" src={ellipseImg} alt=\"ellipse\" />\n            <p className=\"TweetCard__tweets-counter\"> {tweets} tweets</p>\n            <p className=\"TweetCard__followers-counter\"> {followers} followers</p>\n            <button\n                className={\n                    followingTweetsId.includes(id)\n                        ? \"TweetCard__btn-following\"\n                        : \"TweetCard__btn-follow\"}\n                type=\"button\"\n                onClick={() => onClickFollowing(id, followers)}\n            >\n                {followingTweetsId.includes(id) ? \"following\" : \"Follow\"}\n            </button>\n        </div>\n    )\n};\nexport default TweetsCard;\n\n","import { ThreeDots } from 'react-loader-spinner';\n\nconst Loader = () => {\n    return (\n        <ThreeDots\n            height=\"80\"\n            width=\"80\"\n            radius=\"9\"\n            color=\"#4B2A99\"\n            ariaLabel=\"three-dots-loading\"\n            wrapperStyle={{display: \"flex\", justifyContent: \"center\"}}\n            visible={true}\n        />\n    )\n}\n\nexport default Loader;","import { useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { nanoid } from 'nanoid';\nimport { getDecrementFollowersApi, getIncrementFollowersApi, getTweetsApi } from 'services/api';\nimport TweetsCard from 'components/TweetsCard/TweetsCard';\nimport Loader from 'components/Loader/Loader';\nimport './Tweets.css';\n\nconst initialFollowingTweetsId = () => {\n    const saveFollowingTweetsId = localStorage.getItem(\"followingTweets\");\n    if (saveFollowingTweetsId !== null) {\n        const parsedFollowingTweetsId = JSON.parse(saveFollowingTweetsId);\n        return parsedFollowingTweetsId\n    }\n    return [];\n}\n\nconst Tweets = () => {\n    const [tweets, setTweets] = useState([]);\n    const [page, setPage] = useState(1);\n    const [followingTweetsId, setFollowingTweetsId] = useState(initialFollowingTweetsId());\n    const [isLoading, setIsLoading] = useState(null)\n    const location = useLocation();\n    const backLinkHref = location.state?.from ?? \"/\";\n\n    useEffect(() => {\n        setIsLoading(true);\n        getTweetsApi(page)\n            .then(fetchTweets => {\n                setTweets(prevTweets => [...prevTweets, ...fetchTweets])\n                setIsLoading(false);\n            })\n            .catch(error => console.log(error.message));\n    }, [page]);\n\n    useEffect(() => {\n        localStorage.setItem(\"followingTweets\", JSON.stringify(followingTweetsId));\n    }, [followingTweetsId]);\n\n    const incrementFollowers = (tweetId, tweetFollowers) => {        \n        getIncrementFollowersApi(tweetId, tweetFollowers)\n            .then(fetchTweet => {\n                setTweets(prevTweets => prevTweets.map(prevTweet => {\n                    if (prevTweet.id === fetchTweet.id) {\n                        prevTweet.followers = fetchTweet.followers;\n                    };\n                    return prevTweet\n                }))\n            })\n            .catch(error => console.log(error.message));\n    };\n\n    const decrementFollowers = (tweetId, tweetFollowers) => {\n        getDecrementFollowersApi(tweetId, tweetFollowers)\n            .then(fetchTweet => {\n                setTweets(prevTweets => prevTweets.map(prevTweet => {\n                    if (prevTweet.id === fetchTweet.id) {\n                        prevTweet.followers = fetchTweet.followers;\n                    };\n                    return prevTweet;\n                }))\n            })\n            .catch(error => console.log(error.message));\n    };\n\n    const hendleClickFollowing = (tweetId, followers) => {\n        if (!followingTweetsId.includes(tweetId)) {\n            setFollowingTweetsId(prevState => [...prevState, tweetId]);\n            incrementFollowers(tweetId, followers);\n            return\n        } else {\n            setFollowingTweetsId(prevState => [...prevState.filter(prevState => prevState !== tweetId)]);\n            decrementFollowers(tweetId, followers);\n        }\n    }\n\n    const hendleClickBtnLoadMore = () => {\n        setPage(prevState => (prevState + 1));\n    };\n\n    return (\n        <>  <Link to={backLinkHref} className='Tweets-list__btn-back-link'>\n                <button className='Tweets-list__btn-back' type='button'>\n                    Back\n                </button>\n            </Link>\n            <ul className='Tweets-list'>\n                {(tweets.map(tweet => (\n                    <li key={nanoid()} className='Tweets-list__item'>\n                        <TweetsCard\n                            tweet={tweet}\n                            onClickFollowing={hendleClickFollowing}\n                            followingTweetsId={followingTweetsId}\n                        />\n                    </li>\n                )))}\n            </ul>\n            {isLoading && <Loader />}\n            {(tweets.length > 0) && !isLoading &&\n                <button\n                    className='Tweets-list__btn-LoadMore'\n                    type='button'\n                    onClick={hendleClickBtnLoadMore}\n                >\n                    Load more\n                </button>\n            }\n        </>\n    )\n};\n\nexport default Tweets;"],"names":["axios","getTweetsApi","page","response","data","getIncrementFollowersApi","tweetId","tweetFollowers","followers","getDecrementFollowersApi","tweet","tweets","id","avatar","followingTweetsId","onClickFollowing","className","src","pictureImg","alt","ellipseImg","includes","type","onClick","height","width","radius","color","ariaLabel","wrapperStyle","display","justifyContent","visible","useState","setTweets","setPage","saveFollowingTweetsId","localStorage","getItem","JSON","parse","initialFollowingTweetsId","setFollowingTweetsId","isLoading","setIsLoading","backLinkHref","useLocation","state","from","useEffect","then","fetchTweets","prevTweets","catch","error","console","log","message","setItem","stringify","hendleClickFollowing","prevState","fetchTweet","map","prevTweet","incrementFollowers","filter","decrementFollowers","to","nanoid","length"],"sourceRoot":""}